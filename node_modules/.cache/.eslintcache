[{"/Users/raphaelhebert/Desktop/snake/src/index.js":"1","/Users/raphaelhebert/Desktop/snake/src/reportWebVitals.js":"2","/Users/raphaelhebert/Desktop/snake/src/App.js":"3","/Users/raphaelhebert/Desktop/snake/src/component/snake/index.js":"4","/Users/raphaelhebert/Desktop/snake/src/component/ScoreBar.js":"5","/Users/raphaelhebert/Desktop/snake/src/component/Lost.js":"6","/Users/raphaelhebert/Desktop/snake/src/component/SnakeForm.js":"7","/Users/raphaelhebert/Desktop/snake/src/component/RegisterForm.js":"8","/Users/raphaelhebert/Desktop/snake/src/component/SignIn.js":"9","/Users/raphaelhebert/Desktop/snake/src/auth/axiosAuth.js":"10","/Users/raphaelhebert/Desktop/snake/src/component/Navbar/index.js":"11","/Users/raphaelhebert/Desktop/snake/src/component/Option/index.js":"12","/Users/raphaelhebert/Desktop/snake/src/config.js":"13","/Users/raphaelhebert/Desktop/snake/src/component/Scores/index.js":"14"},{"size":589,"mtime":1647230951508,"results":"15","hashOfConfig":"16"},{"size":362,"mtime":1647230871821,"results":"17","hashOfConfig":"16"},{"size":2381,"mtime":1647338314517,"results":"18","hashOfConfig":"16"},{"size":4834,"mtime":1647315923204,"results":"19","hashOfConfig":"16"},{"size":212,"mtime":1647230871819,"results":"20","hashOfConfig":"16"},{"size":355,"mtime":1647318348732,"results":"21","hashOfConfig":"16"},{"size":850,"mtime":1647233959661,"results":"22","hashOfConfig":"16"},{"size":4536,"mtime":1647242780442,"results":"23","hashOfConfig":"16"},{"size":3396,"mtime":1647259813401,"results":"24","hashOfConfig":"16"},{"size":270,"mtime":1647268609170,"results":"25","hashOfConfig":"16"},{"size":1027,"mtime":1647339838784,"results":"26","hashOfConfig":"16"},{"size":425,"mtime":1647234377249,"results":"27","hashOfConfig":"16"},{"size":116,"mtime":1647314606708,"results":"28","hashOfConfig":"16"},{"size":2836,"mtime":1647340767843,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1s6chse",{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"40"},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"57","messages":"58","suppressedMessages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"60","messages":"61","suppressedMessages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"69","messages":"70","suppressedMessages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"72","messages":"73","suppressedMessages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75"},"/Users/raphaelhebert/Desktop/snake/src/index.js",[],[],"/Users/raphaelhebert/Desktop/snake/src/reportWebVitals.js",[],[],"/Users/raphaelhebert/Desktop/snake/src/App.js",["76","77","78"],[],"import { useEffect, useState } from 'react';\nimport { Routes, Route } from 'react-router-dom';\nimport jwt_decode from \"jwt-decode\";\n\nimport { axiosWithAuth } from './auth/axiosAuth.js';\n\nimport Snake from './component/snake'\nimport Lost from './component/Lost'\nimport RegisterForm from './component/RegisterForm';\nimport SignIn from './component/SignIn';\nimport Navbar from './component/Navbar';\nimport Option from './component/Option';\nimport Scores from './component/Scores';\n\nimport API_URL from './config'\n\nimport './App.css';\n\n\nfunction App() {\n  const [apple, setApple] = useState([0,0])\n  const [score, setScore] = useState(-1)\n  const [lost, setLost] = useState(false)\n  const [loggedIn, setLoggedIn] = useState(false)\n  const [speed, setSpeed] = useState(200)\n\n  const loose = () => {\n    //const finalScore = {userId: id, score: score}\n    if(loggedIn){\n      const payload = {score: score, gameId: 1}\n      axiosWithAuth().post(API_URL + \"scores\", payload)\n        .then(res => {\n          console.log(`score ${score} saved!`)\n        })\n        .catch(err => \n          console.log(`An error occurred: \\n ${err.message}`)\n        )\n    }\n    setLost(true)\n  }\n\n  const applePos = () => {\n    let top = Math.floor( Math.random() * 100 ).toString()\n    let left = Math.floor( Math.random() * 100 ).toString()\n  \n    top = top - (top % 2)\n    left = left - (left % 2)\n    console.log(`apple: ${top} ${left}`)\n    setApple([top, left])\n    setScore(score + 1)\n  }\n\n  useEffect(() => {\n    applePos()\n    let token = localStorage.getItem(\"token\")\n\n    if(token){\n      //token = jwt_decode(token)\n      setLoggedIn(true)\n    }\n  }, [])\n\n  return (\n    <>\n    <Navbar loggedIn={loggedIn} setLoggedIn={setLoggedIn}/>\n    <Routes>\n      <Route path=\"/\" element={\n        <>\n          {lost && <Lost score={score} />}\n          <Snake apple={apple} applePos={applePos} score={score >= 0? score: 0} loose={loose} lost={lost} setLost={setLost} score={score} setScore={setScore} speed={speed} setApple={setApple}/>\n        </>\n      }/>\n      <Route path=\"/Option\" element={<Option setSpeed={setSpeed} speed={speed}/>} />\n      <Route path=\"/register\" element={<RegisterForm />} />\n      <Route path=\"/SignIn\" element={<SignIn setLoggedIn={setLoggedIn}/>} />\n      <Route path=\"/Scores\" element={<Scores loggedIn={loggedIn} />} />\n    </Routes>\n    </>\n  );\n}\n\nexport default App;\n",["79","80"],"/Users/raphaelhebert/Desktop/snake/src/component/snake/index.js",["81","82"],[],"import { useState, useEffect } from 'react'\n\nimport Lost from '../Lost'\nimport ScoreBar from '../ScoreBar'\nimport '../../App.css'\n\n\n\nconst Snake = ({ apple, applePos, loose, score, speed, lost}) => {\n    const [head, setHead] = useState([48, 48]) //top, left\n    const [play, setPlay] = useState(false)\n    const [body, setBody] = useState([])\n    const [direction, setDirection] = useState('ArrowRight') //setup for starts and checks snake does go in unauthorized direction\n\n    const appleTop = apple[0] + '%'\n    const appleLeft = apple[1] +  '%'\n\n    const headTop = head[0] + '%'\n    const headLeft = head[1] + '%'\n\n    //handle options form\n    \n    const headPos = (direction) => {\n        switch(direction){\n          case \"ArrowRight\":\n            setHead([head[0], (head[1] + 2) % 100])\n            break\n          case \"ArrowLeft\":\n            setHead([head[0], (100 + (head[1] - 2)) % 100])\n            break\n          case \"ArrowDown\":\n            setHead([ (head[0] + 2) % 100, head[1]])\n            break\n          case \"ArrowUp\":\n            setHead([(100 + (head[0] - 2)) % 100, head[1]]);\n            break\n          default:\n            break;\n        }\n    }\n    \n    const handleKeyDown = e => {\n        e.preventDefault();\n        if(body.length > 0){\n            switch(e.key){\n                case \"ArrowUp\":\n                    if(direction === \"ArrowDown\" || direction === \"ArrowUp\"){\n                        return\n                    } \n                    break;\n                case \"ArrowDown\":\n                    if(direction === \"ArrowUp\" || direction === \"ArrowDown\"){\n                        return\n                    }\n                    break;\n                case \"ArrowRight\":\n                    if(direction === \"ArrowLeft\" || direction === \"ArrowRight\"){\n                        return\n                    }\n                    break;\n                case \"ArrowLeft\":\n                    if(direction === \"ArrowLeft\" || direction === \"ArrowRight\"){\n                        return\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n        if([\"ArrowUp\", \"ArrowLeft\", \"ArrowRight\", \"ArrowDown\"].includes(e.key)){\n            window.localStorage.setItem(\"snakeRunner\", JSON.stringify({'direction': e.key}))\n        }\n    }\n\n    const clickPlay = () => {\n        if(!play){\n            setPlay(!play);\n            setHead([head[0], head[1] + 2])\n        }\n    }\n\n    useEffect(() => {\n        const bodySearch = 'o' + body.join('o').toString() + 'o'\n        const headCheck = \"o\" + [head[0] + '%', head[1] + '%'].toString() + \"o\"\n        if(bodySearch.includes(headCheck)){\n            setPlay(false)\n            loose();\n        }\n\n        setTimeout(() => {\n            const storage = window.localStorage.getItem(\"snakeRunner\")\n            const newDirection = JSON.parse(storage)\n            if(play && [\"ArrowUp\", \"ArrowLeft\", \"ArrowRight\", \"ArrowDown\"].includes(newDirection.direction)){\n                if(head[0] === apple[0] && head[1] === apple[1]){\n                    setBody([[headTop, headLeft], ...body])\n                    applePos()\n                } else {\n                    if(body.length > 0){\n                        const newBody = body.slice(0, body.length - 1)\n                        newBody.unshift([headTop, headLeft])\n                        setBody(newBody)\n                    }\n                }\n                setDirection(newDirection.direction);\n                headPos(newDirection.direction);\n            }   \n        }, speed)\n    }, [head])\n\n    return(\n        <div className='main' onKeyDown={handleKeyDown} tabIndex=\"0\">\n            <div className=\"flexColCenter sideDiv\">\n                <h1>The Snake</h1>\n                <p>Press <span>Play !</span> to start playing and use the <span>arrow keys</span> on your keyboard to change the snake's direction.</p>\n                <div className=\"main formButtons\">\n                <div className={play? \"startButtonDisabled\": \"startButton\"} onClick={clickPlay} disabled={play}><span>Play !</span></div>\n                <button onClick={() => window.location.reload()}>Reset</button>\n            </div>\n                \n                <ScoreBar score={score >= 0? score: 0} />\n            </div>\n            <div className='container'>\n                <div className='screen'>\n                    <div className=\"apple\" style={{top: appleTop, left: appleLeft }} />\n                    <div className=\"head\" style={{top: headTop, left: headLeft }}/>\n                    { body.length > 0 && body.map(bodyPart => \n                            <div className=\"bodyPart\" style={{top: bodyPart[0], left: bodyPart[1] }}/>\n\n                    )}\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Snake;","/Users/raphaelhebert/Desktop/snake/src/component/ScoreBar.js",[],[],"/Users/raphaelhebert/Desktop/snake/src/component/Lost.js",[],[],"/Users/raphaelhebert/Desktop/snake/src/component/SnakeForm.js",[],[],"/Users/raphaelhebert/Desktop/snake/src/component/RegisterForm.js",[],[],"/Users/raphaelhebert/Desktop/snake/src/component/SignIn.js",[],[],"/Users/raphaelhebert/Desktop/snake/src/auth/axiosAuth.js",[],[],"/Users/raphaelhebert/Desktop/snake/src/component/Navbar/index.js",[],[],"/Users/raphaelhebert/Desktop/snake/src/component/Option/index.js",[],[],"/Users/raphaelhebert/Desktop/snake/src/config.js",[],[],"/Users/raphaelhebert/Desktop/snake/src/component/Scores/index.js",["83","84"],[],"import { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from \"axios\";\n\nimport { axiosWithAuth } from '../../auth/axiosAuth';\n\nimport API_URL from '../../config';\nimport '../../App.css'\n\nconst Scores = ({ loggedIn }) => {\n\n    const [topTen, setTopTen ] = useState([])\n    const [ userScores, setUserScores ] = useState([])\n\n    const nav = useNavigate()\n\n    useEffect(() => {\n        axios.get(API_URL + \"scores/topTen/snake\")\n            .then(res => {\n                setTopTen(res.data.reverse())\n            })\n            .catch(err => {\n                setTopTen([{username: \"no player available\", score: 0}])\n            });\n        loggedIn &&\n        axiosWithAuth().get(API_URL + 'scores/user/snake')\n            .then(res => {\n                setUserScores(res.data)\n            })\n            .catch(err => {\n                setUserScores([{score: \"no scores available\"}])\n            });\n    }, [])\n    return(\n        <div className=\"flexColCenter\">\n            <div className=\"tableBox\">\n                <h2>Top Ten</h2>\n                <table>\n                <thead>\n                    <tr>\n                        <th>Rank</th>\n                        <th>Player</th>\n                        <th>score</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {\n                        topTen.map((player, index) => {\n                            return (\n                                <tr>\n                                    <td>{index + 1}</td>\n                                    <td>{player.username}</td>\n                                    <td>{player.score}</td>\n                                </tr>\n                            )\n                        })\n                    }\n                </tbody>\n                </table>\n            </div>\n            \n            <div className=\"tableBox\">\n                <h2>My Scores</h2>\n                <table>\n                    <thead>\n                        <tr>\n                            <th>scores</th>\n                        </tr>\n                    </thead>\n                    { loggedIn?\n                        <tbody>\n                            {\n                                userScores.map( player => {\n                                    return (\n                                        <tr> <td> {player.score} </td> </tr>\n                                    )\n                                })\n                            }\n                        </tbody>\n                        : <tr><td>You must be logged in!!</td></tr>\n                    }\n                </table>\n            </div>\n            {/* <button className=\"startButton\" onClick={() => nav('/')}>Back to home page</button> */}\n        </div>\n    )\n}\n\nexport default Scores",{"ruleId":"85","severity":1,"message":"86","line":3,"column":8,"nodeType":"87","messageId":"88","endLine":3,"endColumn":18},{"ruleId":"89","severity":1,"message":"90","line":61,"column":6,"nodeType":"91","endLine":61,"endColumn":8,"suggestions":"92"},{"ruleId":"93","severity":1,"message":"94","line":70,"column":125,"nodeType":"95","messageId":"96","endLine":70,"endColumn":138},{"ruleId":"97","replacedBy":"98"},{"ruleId":"99","replacedBy":"100"},{"ruleId":"85","severity":1,"message":"101","line":3,"column":8,"nodeType":"87","messageId":"88","endLine":3,"endColumn":12},{"ruleId":"89","severity":1,"message":"102","line":108,"column":8,"nodeType":"91","endLine":108,"endColumn":14,"suggestions":"103"},{"ruleId":"85","severity":1,"message":"104","line":15,"column":11,"nodeType":"87","messageId":"88","endLine":15,"endColumn":14},{"ruleId":"89","severity":1,"message":"105","line":33,"column":8,"nodeType":"91","endLine":33,"endColumn":10,"suggestions":"106"},"no-unused-vars","'jwt_decode' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'applePos'. Either include it or remove the dependency array.","ArrayExpression",["107"],"react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","noDuplicateProps","no-native-reassign",["108"],"no-negated-in-lhs",["109"],"'Lost' is defined but never used.","React Hook useEffect has missing dependencies: 'apple', 'applePos', 'body', 'headLeft', 'headPos', 'headTop', 'loose', 'play', and 'speed'. Either include them or remove the dependency array. If 'loose' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["110"],"'nav' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'loggedIn'. Either include it or remove the dependency array.",["111"],{"desc":"112","fix":"113"},"no-global-assign","no-unsafe-negation",{"desc":"114","fix":"115"},{"desc":"116","fix":"117"},"Update the dependencies array to be: [applePos]",{"range":"118","text":"119"},"Update the dependencies array to be: [apple, applePos, body, head, headLeft, headPos, headTop, loose, play, speed]",{"range":"120","text":"121"},"Update the dependencies array to be: [loggedIn]",{"range":"122","text":"123"},[1639,1641],"[applePos]",[3592,3598],"[apple, applePos, body, head, headLeft, headPos, headTop, loose, play, speed]",[959,961],"[loggedIn]"]
{"ast":null,"code":"var _jsxFileName = \"/Users/raphaelhebert/Desktop/snake/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport { Routes, Route } from 'react-router-dom';\nimport jwt_decode from \"jwt-decode\";\nimport { axiosWithAuth } from './auth/axiosAuth.js';\nimport Snake from './component/snake';\nimport Lost from './component/Lost';\nimport RegisterForm from './component/RegisterForm';\nimport SignIn from './component/SignIn';\nimport Navbar from './component/Navbar';\nimport Option from './component/Option';\nimport Scores from './component/Scores';\nimport API_URL from './config';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [apple, setApple] = useState([0, 0]);\n  const [score, setScore] = useState(-1);\n  const [lost, setLost] = useState(false);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [speed, setSpeed] = useState(200);\n\n  const loose = () => {\n    //const finalScore = {userId: id, score: score}\n    if (loggedIn) {\n      const payload = {\n        score: score,\n        gameId: 1\n      };\n      axiosWithAuth().post(API_URL + \"scores\", payload).then(res => {\n        console.log(`score ${score} saved!`);\n      }).catch(err => console.log(`An error occurred: \\n ${err.message}`));\n    }\n\n    setLost(true);\n  };\n\n  const applePos = () => {\n    let top = Math.floor(Math.random() * 100).toString();\n    let left = Math.floor(Math.random() * 100).toString();\n    top = top - top % 2;\n    left = left - left % 2;\n    console.log(`apple: ${top} ${left}`);\n    setApple([top, left]);\n    setScore(score + 1);\n  };\n\n  useEffect(() => {\n    applePos();\n    let token = localStorage.getItem(\"token\");\n\n    if (token) {\n      token = jwt_decode(token);\n      setLoggedIn(true);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Navbar, {\n            loggedIn: loggedIn,\n            setLoggedIn: setLoggedIn\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 11\n          }, this), lost && /*#__PURE__*/_jsxDEV(Lost, {\n            score: score\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(Snake, {\n            apple: apple,\n            applePos: applePos,\n            score: score >= 0 ? score : 0,\n            loose: loose,\n            lost: lost,\n            setLost: setLost,\n            score: score,\n            setScore: setScore,\n            speed: speed,\n            setApple: setApple\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/Option\",\n        element: /*#__PURE__*/_jsxDEV(Option, {\n          setSpeed: setSpeed,\n          speed: speed\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/register\",\n        element: /*#__PURE__*/_jsxDEV(RegisterForm, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/SignIn\",\n        element: /*#__PURE__*/_jsxDEV(SignIn, {\n          setLoggedIn: setLoggedIn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/Scores\",\n        element: /*#__PURE__*/_jsxDEV(Scores, {\n          loggedIn: loggedIn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n}\n\n_s(App, \"WzO+05DV+CbhvcqtJPl/EOv9EBI=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/raphaelhebert/Desktop/snake/src/App.js"],"names":["useEffect","useState","Routes","Route","jwt_decode","axiosWithAuth","Snake","Lost","RegisterForm","SignIn","Navbar","Option","Scores","API_URL","App","apple","setApple","score","setScore","lost","setLost","loggedIn","setLoggedIn","speed","setSpeed","loose","payload","gameId","post","then","res","console","log","catch","err","message","applePos","top","Math","floor","random","toString","left","token","localStorage","getItem"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nimport { Routes, Route } from 'react-router-dom';\nimport jwt_decode from \"jwt-decode\";\n\nimport { axiosWithAuth } from './auth/axiosAuth.js';\n\nimport Snake from './component/snake'\nimport Lost from './component/Lost'\nimport RegisterForm from './component/RegisterForm';\nimport SignIn from './component/SignIn';\nimport Navbar from './component/Navbar';\nimport Option from './component/Option';\nimport Scores from './component/Scores';\n\nimport API_URL from './config'\n\nimport './App.css';\n\n\nfunction App() {\n  const [apple, setApple] = useState([0,0])\n  const [score, setScore] = useState(-1)\n  const [lost, setLost] = useState(false)\n  const [loggedIn, setLoggedIn] = useState(false)\n  const [speed, setSpeed] = useState(200)\n\n  const loose = () => {\n    //const finalScore = {userId: id, score: score}\n    if(loggedIn){\n      const payload = {score: score, gameId: 1}\n      axiosWithAuth().post(API_URL + \"scores\", payload)\n        .then(res => {\n          console.log(`score ${score} saved!`)\n        })\n        .catch(err => \n          console.log(`An error occurred: \\n ${err.message}`)\n        )\n    }\n    setLost(true)\n  }\n\n  const applePos = () => {\n    let top = Math.floor( Math.random() * 100 ).toString()\n    let left = Math.floor( Math.random() * 100 ).toString()\n  \n    top = top - (top % 2)\n    left = left - (left % 2)\n    console.log(`apple: ${top} ${left}`)\n    setApple([top, left])\n    setScore(score + 1)\n  }\n\n  useEffect(() => {\n    applePos()\n    let token = localStorage.getItem(\"token\")\n\n    if(token){\n      token = jwt_decode(token)\n      setLoggedIn(true)\n      \n    }\n  }, [])\n\n  return (\n    <>\n    <Routes>\n      <Route path=\"/\" element={\n        <>\n          <Navbar loggedIn={loggedIn} setLoggedIn={setLoggedIn}/>\n          {lost && <Lost score={score} />}\n          <Snake apple={apple} applePos={applePos} score={score >= 0? score: 0} loose={loose} lost={lost} setLost={setLost} score={score} setScore={setScore} speed={speed} setApple={setApple}/>\n        </>\n      }/>\n        <Route path=\"/Option\" element={<Option setSpeed={setSpeed} speed={speed}/>} />\n        <Route path=\"/register\" element={<RegisterForm />} />\n        <Route path=\"/SignIn\" element={<SignIn setLoggedIn={setLoggedIn}/>} />\n        <Route path=\"/Scores\" element={<Scores loggedIn={loggedIn}/>} />\n    </Routes>\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}